(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68071ed4"],{"08fb":function(t,e,a){"use strict";a("1838")},"159b":function(t,e,a){var n=a("da84"),o=a("fdbc"),l=a("785a"),r=a("17c2"),s=a("9112"),i=function(t){if(t&&t.forEach!==r)try{s(t,"forEach",r)}catch(e){t.forEach=r}};for(var c in o)o[c]&&i(n[c]&&n[c].prototype);i(l)},"17c2":function(t,e,a){"use strict";var n=a("b727").forEach,o=a("a640"),l=o("forEach");t.exports=l?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},1838:function(t,e,a){},a640:function(t,e,a){"use strict";var n=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&n((function(){a.call(null,e||function(){throw 1},1)}))}},b64b:function(t,e,a){var n=a("23e7"),o=a("7b0b"),l=a("df75"),r=a("d039"),s=r((function(){l(1)}));n({target:"Object",stat:!0,forced:s},{keys:function(t){return l(o(t))}})},e02e:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"plan"},[a("el-form",{ref:"searchForm",attrs:{size:"small",inline:!0,model:t.searchForm}},[a("el-form-item",{attrs:{label:"计划编号",prop:"planCode"}},[a("el-input",{attrs:{placeholder:"计划编号"},model:{value:t.searchForm.planCode,callback:function(e){t.$set(t.searchForm,"planCode",e)},expression:"searchForm.planCode"}})],1),a("el-form-item",{attrs:{label:"计划状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"计划状态"},model:{value:t.searchForm.status,callback:function(e){t.$set(t.searchForm,"status",e)},expression:"searchForm.status"}},[a("el-option",{attrs:{label:"全部",value:""}}),a("el-option",{attrs:{label:"启用",value:"normal"}}),a("el-option",{attrs:{label:"禁用",value:"forbid"}})],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.getData}},[t._v("查询")]),a("el-button",{attrs:{type:"warning",icon:"el-icon-refresh"},on:{click:t.reset}},[t._v("重置")]),a("el-button",{attrs:{type:"success",icon:"el-icon-plus"},on:{click:function(e){t.addVisible=!0}}},[t._v("新增")])],1)],1),a("el-divider"),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{size:"mini",border:"",stripe:"",data:t.dataList}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"planCode",label:"计划编号",width:"350"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-link",{staticClass:"planCode",attrs:{underline:!1,type:"primary"},on:{click:function(a){return t.lookContent(e.row.uuid)}}},[t._v(t._s(e.row.planCode)+" ")])]}}])}),a("el-table-column",{attrs:{prop:"description",label:"计划名称",width:"200"}}),a("el-table-column",{attrs:{prop:"srcDb",label:"源数据库",width:"150"}}),a("el-table-column",{attrs:{prop:"destDb",label:"目标数据库",width:"150"}}),a("el-table-column",{attrs:{prop:"srcProject",label:"源系统",width:"150"}}),a("el-table-column",{attrs:{prop:"destProject",label:"目标系统",width:"150"}}),a("el-table-column",{attrs:{label:"启用状态"},scopedSlots:t._u([{key:"default",fn:function(e){return["normal"===e.row.status?a("el-tag",{attrs:{type:"success",size:"small"}},[t._v("启用")]):a("el-tag",{attrs:{type:"text",size:"small"}},[t._v("禁用")])]}}])}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),a("el-table-column",{attrs:{prop:"updateTime",label:"更新时间"}})],1),a("el-pagination",{staticClass:"pagination",attrs:{background:"","current-page":t.currentPage,"page-size":t.pageSize,layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.currentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}}),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"新增计划",visible:t.addVisible},on:{"update:visible":function(e){t.addVisible=e}}},[a("el-form",{ref:"addForm",attrs:{model:t.addForm,rules:t.addRules}},[a("el-form-item",{attrs:{prop:"planContent"}},[a("el-input",{attrs:{resize:"none",type:"textarea",rows:15,placeholder:"请输入内容"},model:{value:t.addForm.planContent,callback:function(e){t.$set(t.addForm,"planContent",e)},expression:"addForm.planContent"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.addCancel}},[t._v("取 消")]),a("el-button",{attrs:{loading:t.loading,type:"primary"},on:{click:t.add}},[t._v("保 存")])],1)],1),a("el-dialog",{attrs:{visible:t.showVisible},on:{"update:visible":function(e){t.showVisible=e}}},[t.showVisible?a("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs"}]},[a("code",{staticClass:"javascript showContent",domProps:{textContent:t._s(t.showContent)}})]):t._e()])],1)},o=[],l=(a("d3b7"),a("159b"),a("b64b"),{name:"Plan.vue",data:function(){return{loading:!0,searchForm:{status:"",planCode:""},addForm:{planContent:""},addVisible:!1,showVisible:!1,showContent:"",dataList:[],total:0,pageSize:20,currentPage:1,addRules:{planContent:[{required:!0,message:"请填写同步计划内容",trigger:"blur"}]}}},methods:{reset:function(){this.$refs["searchForm"].resetFields(),this.getData()},getData:function(){var t=this;this.loading=!0;var e={};Object.keys(this.searchForm).forEach((function(a){e[a]=t.searchForm[a]})),e.page=this.currentPage,e.limit=this.pageSize,this.$sendAjax.doGet("/sync/plan/page",{params:e}).then((function(e){t.dataList=e.result.dataList,t.total=e.result.totalRow})).finally((function(){t.loading=!1}))},currentChange:function(t){this.currentPage=t,this.getData()},add:function(){var t=this;this.$refs["addForm"].validate((function(e){if(!e)return!1;t.loading=!0,t.$sendAjax.doPost("/sync/plan/save",t.addForm,{emulateJSON:!1}).then((function(e){e.data;t.addVisible=!1,t.$message.success("新增成功!"),t.$refs["addForm"].resetFields(),t.getData()})).finally((function(){t.loading=!1}))}))},addCancel:function(){this.$refs["addForm"].resetFields(),this.addVisible=!1},lookContent:function(t){var e=this;this.$sendAjax.doGet("/sync/plan/content?uuid="+t).then((function(t){e.showContent=t.result,e.showVisible=!0})).finally((function(){}))}},mounted:function(){this.getData()}}),r=l,s=(a("08fb"),a("2877")),i=Object(s["a"])(r,n,o,!1,null,"4da480b8",null);e["default"]=i.exports}}]);
//# sourceMappingURL=chunk-68071ed4.c63caef0.js.map