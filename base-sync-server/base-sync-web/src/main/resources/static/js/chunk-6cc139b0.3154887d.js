(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6cc139b0"],{"0ff3":function(t,e,n){"use strict";n("edc8")},"159b":function(t,e,n){var a=n("da84"),s=n("fdbc"),r=n("785a"),o=n("17c2"),i=n("9112"),l=function(t){if(t&&t.forEach!==o)try{i(t,"forEach",o)}catch(e){t.forEach=o}};for(var c in s)s[c]&&l(a[c]&&a[c].prototype);l(r)},"17c2":function(t,e,n){"use strict";var a=n("b727").forEach,s=n("a640"),r=s("forEach");t.exports=r?[].forEach:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},"1dde":function(t,e,n){var a=n("d039"),s=n("b622"),r=n("2d00"),o=s("species");t.exports=function(t){return r>=51||!a((function(){var e=[],n=e.constructor={};return n[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"5bc4":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"result"},[n("el-form",{ref:"searchForm",attrs:{size:"small",inline:!0,model:t.searchForm}},[n("el-form-item",{attrs:{label:"计划编号",prop:"planCode"}},[n("el-input",{attrs:{placeholder:"计划编号"},model:{value:t.searchForm.planCode,callback:function(e){t.$set(t.searchForm,"planCode",e)},expression:"searchForm.planCode"}})],1),n("el-form-item",{attrs:{label:"创建时间"}},[n("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetimerange","picker-options":t.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:t.createTimeRange,callback:function(e){t.createTimeRange=e},expression:"createTimeRange"}})],1),n("el-form-item",{attrs:{label:"关键词",prop:"keywords"}},[n("el-input",{staticClass:"w500",attrs:{placeholder:"关键词"},model:{value:t.searchForm.keywords,callback:function(e){t.$set(t.searchForm,"keywords",e)},expression:"searchForm.keywords"}})],1),n("el-form-item",{attrs:{label:"同步状态",prop:"syncStatus"}},[n("el-select",{staticClass:"w150",attrs:{placeholder:"计划状态"},model:{value:t.searchForm.syncStatus,callback:function(e){t.$set(t.searchForm,"syncStatus",e)},expression:"searchForm.syncStatus"}},[n("el-option",{attrs:{label:"全部",value:""}}),n("el-option",{attrs:{label:"成功",value:"success"}}),n("el-option",{attrs:{label:"失败",value:"fail"}})],1)],1),n("el-form-item",{attrs:{label:"重试次数",prop:"repeatCount"}},[n("el-select",{staticClass:"w150",attrs:{placeholder:"重试次数"},model:{value:t.searchForm.repeatCount,callback:function(e){t.$set(t.searchForm,"repeatCount",e)},expression:"searchForm.repeatCount"}},[n("el-option",{attrs:{label:"全部",value:""}}),n("el-option",{attrs:{label:">=1",value:"1"}}),n("el-option",{attrs:{label:">=2",value:"2"}}),n("el-option",{attrs:{label:">=3",value:"3"}}),n("el-option",{attrs:{label:">=4",value:"4"}}),n("el-option",{attrs:{label:">=5",value:"5"}}),n("el-option",{attrs:{label:">=6",value:"6"}})],1)],1),n("el-form-item",[n("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.getData}},[t._v("查询")]),n("el-button",{attrs:{type:"warning",icon:"el-icon-refresh"},on:{click:t.reset}},[t._v("重置")]),n("el-button",{attrs:{type:"primary"},on:{click:t.signSuccess}},[t._v("标记成功")]),n("el-button",{attrs:{type:"primary"},on:{click:t.validResult}},[t._v("校验数据")]),n("el-button",{attrs:{type:"primary"},on:{click:t.repeatSync}},[t._v("重新同步")])],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"resultTable",staticClass:"resultTable",staticStyle:{width:"100%"},attrs:{border:"",size:"mini",stripe:"",data:t.dataList,"highlight-current-row":""}},[n("el-table-column",{attrs:{label:"选择",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("el-radio",{attrs:{label:a.uuid},model:{value:t.uuid,callback:function(e){t.uuid=e},expression:"uuid"}},[n("span")])]}}])}),n("el-table-column",{attrs:{prop:"planCode",label:"计划编号",width:"280px"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("ellipsis")(e.row.planCode,35)))])]}}])}),n("el-table-column",{attrs:{prop:"planName",label:"计划名称",width:"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("ellipsis")(e.row.planName,20)))])]}}])}),n("el-table-column",{attrs:{prop:"srcProject",label:"源系统",width:"120px"}}),n("el-table-column",{attrs:{prop:"destProject",label:"目标系统",width:"120px"}}),n("el-table-column",{attrs:{prop:"msgCreateTime",width:"150px",label:"创建时间"}}),n("el-table-column",{attrs:{prop:"syncTime",width:"150px",label:"同步时间"}}),n("el-table-column",{attrs:{prop:"status",width:"80px",label:"同步结果"},scopedSlots:t._u([{key:"default",fn:function(e){return["success"===e.row.status?n("span",{staticStyle:{color:"#67C23A"}},[t._v("成功")]):n("span",{staticStyle:{color:"red",cursor:"pointer"}},[n("el-tooltip",{attrs:{effect:"light","popper-class":"tooltip-width",content:e.row.errorMsg,placement:"top"}},[n("span",[t._v("失败")])])],1)]}}])}),n("el-table-column",{attrs:{prop:"repeatCount",width:"80px",label:"重试次数"}}),n("el-table-column",{attrs:{prop:"msgSrc",width:"100px",label:"来源"}}),n("el-table-column",{attrs:{width:"150px",prop:"msgContent",label:"消息内容"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticStyle:{color:"#3a8ee6",cursor:"pointer"},on:{click:function(n){return t.showMsgContent(e.row.msgContent)}}},[t._v(t._s(t._f("ellipsis")(e.row.msgContent,15)))])]}}])}),n("el-table-column",{attrs:{width:"150px",prop:"syncContent",label:"同步内容"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticStyle:{color:"#3a8ee6",cursor:"pointer"},on:{click:function(n){return t.showSyncContent(e.row.syncContent)}}},[t._v(t._s(t._f("ellipsis")(e.row.syncContent,15)))])]}}])}),n("el-table-column",{attrs:{width:"100px",prop:"remark",label:"备注系统"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticStyle:{color:"#E6A23C",cursor:"pointer"}},[t._v(t._s(t._f("ellipsis")(e.row.remark,5)))])]}}])})],1),n("el-pagination",{staticClass:"pagination",attrs:{background:"","current-page":t.currentPage,layout:"total, prev, pager, next","page-size":t.pageSize,total:t.total},on:{"current-change":t.currentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}}),n("el-dialog",{attrs:{title:"同步内容",visible:t.syncVisible,width:"30%"},on:{"update:visible":function(e){t.syncVisible=e}}},[n("span",[t._v(" "+t._s(t.syncContent)+" ")])]),n("el-dialog",{attrs:{title:"消息内容",visible:t.msgVisible,width:"30%"},on:{"update:visible":function(e){t.msgVisible=e}}},[n("span",[t._v(" "+t._s(t.msgContent)+" ")])])],1)},s=[],r=(n("fb6a"),n("d3b7"),n("159b"),n("b64b"),{name:"Result.vue",data:function(){return{uuid:"",loading:!0,syncVisible:!1,syncContent:"",msgVisible:!1,msgContent:"",dataList:[],searchForm:{syncStatus:"",planCode:"",keywords:"",repeatCount:""},createTimeRange:[],total:0,pageSize:17,currentPage:1,pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,n=new Date;n.setTime(n.getTime()-6048e5),t.$emit("pick",[n,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,n=new Date;n.setTime(n.getTime()-2592e6),t.$emit("pick",[n,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,n=new Date;n.setTime(n.getTime()-7776e6),t.$emit("pick",[n,e])}}]}}},filters:{ellipsis:function(t,e){return t?t.length>e?t.slice(0,e)+"...":t:""}},methods:{showSyncContent:function(t){this.syncContent=t,this.syncVisible=!0},showMsgContent:function(t){this.msgContent=t,this.msgVisible=!0},reset:function(){this.$refs["searchForm"].resetFields(),this.currentPage=1,this.uuid="",this.createTimeRange=[],this.getData()},getData:function(){var t=this;this.uuid="",this.loading=!0;var e={};Object.keys(this.searchForm).forEach((function(n){e[n]=t.searchForm[n]})),e.page=this.currentPage,e.limit=this.pageSize,e.startTime=this.createTimeRange[0],e.endTime=this.createTimeRange[1],this.$sendAjax.doGet("/sync/result/search",{params:e}).then((function(e){t.dataList=e.result.dataList,t.total=e.result.totalRow})).finally((function(){t.loading=!1}))},signSuccess:function(){var t=this;if(!this.uuid)return this.$message.warning("请选择要操作的记录");this.$confirm("操作存在风险, 仅限开发人员操作!","标记成功",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$sendAjax.doGet("/sync/result/sign/success?uuid="+t.uuid).then((function(e){e.data;t.addVisible=!1,t.$message.success({showClose:!0,message:"标记同步记录成功"}),t.getData()})).finally((function(){t.loading=!1}))})).catch((function(e){console.log(e),t.$message({type:"info",message:"已取消标记"})}))},validResult:function(){},repeatSync:function(){var t=this;if(!this.uuid)return this.$message.warning("请选择要操作的记录");this.$confirm("操作存在风险, 仅限开发人员操作!","重新同步",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$sendAjax.doGet("/sync/result/repeat/sync?uuid="+t.uuid).then((function(e){e.data;t.addVisible=!1,t.$message.success({showClose:!0,message:"重新同步成功"}),t.getData()})).finally((function(){t.loading=!1}))})).catch((function(e){console.log(e),t.$message({type:"info",message:"已取消重新同步"})}))},currentChange:function(t){this.currentPage=t,this.getData()}},created:function(){this.getData()}}),o=r,i=(n("0ff3"),n("2877")),l=Object(i["a"])(o,a,s,!1,null,null,null);e["default"]=l.exports},8418:function(t,e,n){"use strict";var a=n("a04b"),s=n("9bf2"),r=n("5c6c");t.exports=function(t,e,n){var o=a(e);o in t?s.f(t,o,r(0,n)):t[o]=n}},a640:function(t,e,n){"use strict";var a=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&a((function(){n.call(null,e||function(){throw 1},1)}))}},b64b:function(t,e,n){var a=n("23e7"),s=n("7b0b"),r=n("df75"),o=n("d039"),i=o((function(){r(1)}));a({target:"Object",stat:!0,forced:i},{keys:function(t){return r(s(t))}})},edc8:function(t,e,n){},fb6a:function(t,e,n){"use strict";var a=n("23e7"),s=n("da84"),r=n("e8b5"),o=n("68ee"),i=n("861d"),l=n("23cb"),c=n("07fa"),u=n("fc6a"),p=n("8418"),d=n("b622"),f=n("1dde"),m=n("f36a"),h=f("slice"),b=d("species"),g=s.Array,v=Math.max;a({target:"Array",proto:!0,forced:!h},{slice:function(t,e){var n,a,s,d=u(this),f=c(d),h=l(t,f),y=l(void 0===e?f:e,f);if(r(d)&&(n=d.constructor,o(n)&&(n===g||r(n.prototype))?n=void 0:i(n)&&(n=n[b],null===n&&(n=void 0)),n===g||void 0===n))return m(d,h,y);for(a=new(void 0===n?g:n)(v(y-h,0)),s=0;h<y;h++,s++)h in d&&p(a,s,d[h]);return a.length=s,a}})}}]);
//# sourceMappingURL=chunk-6cc139b0.3154887d.js.map